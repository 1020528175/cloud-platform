<div style="margin: 15px;">
    <form class="layui-form" action="">
        <div class="row">
            <hr>
            <div class="col-sm-4">
                <div class="form-group">
                    <label for="input-check-node" class="sr-only">Search Tree:</label>
                    <input type="input" class="form-control" id="input-check-node"
                           placeholder="Identify node...">
                </div>
                <div id="menuTreeview"></div>
            </div>
            <div class="col-sm-4">
            </div>
        </div>
        <button lay-filter="edit" lay-submit style="display: none;"></button>
    </form>
</div>

<script type="text/javascript">
    $.ajax({
        type: "GET",
        url: "/back/menu/authority",
        success: function (defaultData) {
            var $checkableTree = $('#menuTreeview').treeview({
                data: defaultData,
                levels: 1,
                showIcon: false,
                showCheckbox: false,
                multiSelect:true,
                levels: 5,
                state: {
                    checked: true,
                    disabled: true,
                    expanded: true,
                    selected: true
                }
//                onNodeSelected: function (event, node) {
//
//                },
//                onNodeChecked: function(event, node) {
//                    $('#checkable-output').prepend('<p>' + node.text + ' was checked</p>');
//                },
//                onNodeUnchecked: function (event, node) {
//                    $('#checkable-output').prepend('<p>' + node.text + ' was unchecked</p>');
//                }
            });
            var findCheckableNodess = function () {
                return $checkableTree.treeview('search', [
                    $('#input-check-node').val(), {
                        ignoreCase: false,
                        exactMatch: false
                    }]);
            };
            var checkableNodes = findCheckableNodess();

            $('#input-check-node').on('keyup', function (e) {
                checkableNodes = findCheckableNodess();
                $('.check-node')
                        .prop('disabled', !(checkableNodes.length >= 1));
            });
        }
    });
</script>
